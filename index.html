<!DOCTYPE html>
<html>
<head>
	<title>Patatp Copy</title>
	<script type="text/javascript" src="js/lib/paper-full.js"></script>
	<link rel="stylesheet" type="text/css" href="css/patatap.css">
	<script type="text/paperscript" canvas="myCanvas">
	var maxPoint = new Point(view.size.width, view.size.height);
	var circles = [];
	var keyData = {
		a: {
			sound: new Howl({
				src: ['res/sounds/bubbles.mp3']
			})
		},
		s: {
			sound: new Howl({
				src: ['res/sounds/clay.mp3']
			})
		},
		d: {
			sound: new Howl({
				src: ['res/sounds/strike.mp3']
			})
		},
		f: {
			sound: new Howl({
				src: ['res/sounds/ufo.mp3']
			})
		},
		g: {
			sound: new Howl({
				src: ['res/sounds/squiggle.mp3']
			})
		},
		h: {
			sound: new Howl({
				src: ['res/sounds/prism-1.mp3']
			})
		},
		j: {
			sound: new Howl({
				src: ['res/sounds/wipe.mp3']
			})
		},
		k: {
			sound: new Howl({
				src: ['res/sounds/flash-1.mp3']
			})
		},
		l: {
			sound: new Howl({
				src: ['res/sounds/dotted-spiral.mp3']
			})
		}
	}
	function onKeyDown(e) {
		var col = "rgb("+Math.random()*255+", "+Math.random()*255+", "+Math.random()*255+")";
		var newCircle = new Path.Circle(new Point(maxPoint)*Point.random(), 500);
		newCircle.fillColor = col;
		circles.push(newCircle);
		keyData[e.key].sound.play();
	}
	function onFrame(event) {
		for(var i=0;i<circles.length;i++) {
			circles[i].scale(0.9);
			circles[i].fillColor.hue++;
		    if(circles[i].area < 1) {
	    	  circles[i].remove();
	    	  circles.splice(i, 1);
    		}
		}
	}
	</script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.0.3/howler.core.min.js"></script>
</head>
<body>
<canvas id="myCanvas" resize></canvas>
</body>
</html>